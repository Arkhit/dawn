{% comment %}
  Renders product variant options

  Accepts:
  - availability: {String} Availability of product. Accepts ('in_stock', 'ordered', 'unavailable', 'soon')


  Usage:
  {% render 'delivery-option',
    availability: 'inStock',
  %}
{% endcomment %}

{% comment %}
  convert text to locale settings
{% endcomment %}

{%- liquid
  assign availability = availability | default: 'unavailable'

  assign icon_class = ''
  assign status = ''
  assign text = ''
  assign text_class = ''

  if availability == 'in_stock'
    assign icon_class = ' tw-stroke-green tw-fill-green'
    assign status = 'In Stock'
    assign text = 'Delivery in 2-3 days'
    assign text_class = 'tw-text-green'

  elsif availability == 'ordered'
    assign icon_class = ' tw-fill-green'
    assign status = 'Ordered'
    assign text = 'Delivery in 7-14 days'
    assign text_class = 'tw-text-green'

  elsif availability == 'soon'
    assign icon_class = ' tw-fill-grey500'
    assign status = 'Bald verfügbar'
    assign text = 'Artikel ist ca. ab dem dd.mm.YYYY verfügbar'
    assign text_class = 'tw-text-grey500'

  else
    assign icon_class ==  'tw-stroke-red tw-fill-red'
    assign status = 'Not available'
    assign text = 'This item is no longer available '
    assign text_class = ' tw-text-red'
  endif
-%}

<div class="tw-flex tw-gap-mini tw-items-center tw-py-micro">
  <div class="{{ icon_class }} tw-w-base tw-h-base">
    {% case availability %}
      {% when 'in_stock' %}
        {% render 'icon-truck-fast', svgClass: {{icon_class}} %}
      {% when 'ordered' %}
        {% render 'icon-clock', svgClass: {{icon_class}} %}
      {% when 'soon' %}
        {% render 'icon-clock', svgClass: {{icon_class}} %}
      {% when 'unavailable' %}
        {% render 'icon-circle-exclamation', svgClass: {{icon_class}} %}
    {% endcase %}
  </div>

  <h6 class="{{text_class}} tw-text-t-xs !tw-m-[0]">
    {{ status }}
  </h6>

  <p class="tw-text-body-xs">
    {{ text }}
  </p>
</div>
