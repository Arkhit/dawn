# Shopifyテーマのローカルプレビュー方法

## 問題の理解

Shopifyテーマは通常のHTMLファイルとは異なり、Liquidテンプレート言語を使用しています。これらのファイルは直接ブラウザで開くことはできません。Liquidテンプレートを表示するには、Shopify環境が必要です。

## 解決方法：Shopify CLIを使用する

Shopifyテーマをローカルでプレビューするには、Shopify CLIというツールを使用する必要があります。以下の手順に従ってください：

### 1. 前提条件

- Node.jsがインストールされていること
- npmまたはyarnがインストールされていること
- Shopifyパートナーアカウントまたはストアへのアクセス権があること

### 2. Shopify CLIのインストール

ターミナルで以下のコマンドを実行します：

```bash
npm install -g @shopify/cli @shopify/theme
```

### 3. テーマの開発サーバーを起動する

プロジェクトディレクトリに移動し、以下のコマンドを実行します：

```bash
shopify theme dev --store=あなたのストア名.myshopify.com
```

初回実行時は、Shopifyアカウントへのログインを求められます。

### 4. ブラウザでプレビューする

コマンドが成功すると、以下のようなURLが表示されます：
- ローカルプレビュー: http://127.0.0.1:9292
- テーマエディタ: https://あなたのストア名.myshopify.com/admin/themes/...

ブラウザで`http://127.0.0.1:9292`を開くと、テーマのプレビューが表示されます。

### 5. リアルタイム更新

ローカルのファイルを編集すると、ブラウザのプレビューが自動的に更新されます。これにより、変更をリアルタイムで確認できます。

## 注意点

- このプレビューはGoogle Chromeでのみ完全に機能します
- プレビューにはShopifyストアのデータが使用されます
- 開発テーマはストアに一時的にアップロードされますが、公開テーマには影響しません

## トラブルシューティング

### プレビューリンクが開発テーマを表示しない場合

最近のShopify CLIでは、プレビューリンクが正しく開発テーマを表示しない問題が報告されています。この場合、以下の対処法を試してください：

1. 別のポートで開発サーバーを起動する：
```bash
shopify theme dev --port=9293
```

2. テーマを明示的に指定する：
```bash
shopify theme serve -t 開発テーマ名
```

3. Shopify CLIを再インストールする：
```bash
npm uninstall -g @shopify/cli @shopify/theme
npm install -g @shopify/cli @shopify/theme
```

## まとめ

Shopifyテーマは特殊な環境が必要なため、通常のHTMLファイルのように直接ブラウザで開くことはできません。Shopify CLIを使用することで、ローカル環境でテーマを開発・プレビューすることができます。 