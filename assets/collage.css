.collage__item:nth-child(3n - 1) {
  border: 5px solid orange;
}

.collage__item:nth-child(3n - 2) {
  border: 5px solid green;
}

.collage__item:nth-child(3n) {
  border: 5px solid blue;
}

.collage__item--right {
  border-style: dotted;
}

/* REAL CODE STARTS HERE */

.collage {
  display: grid;
  grid-gap: 20px;
  grid-template-columns: repeat(2, 1fr);
}

.collage__item > * {
  width: 100%;
}

@media screen and (max-width: 749px) {
  /* Left */

  .collage__item:nth-child(3n - 2) {
    grid-column: span 2;
  }

  .collage__item:nth-child(3n - 1):last-child {
    grid-column: span 2;
  }

  .collage__item:nth-child(3n) {
    grid-column-start: 2;
  }

  /* Right */

  .collage__item--right:nth-child(3n - 2) {
   grid-column-start: 1;
  }

  .collage__item:nth-child(3n - 2):last-child {
    grid-column: span 2;
  }

  .collage__item--right:nth-child(3n - 1) {
    grid-column-start: 2;
  }

  .collage__item--right:nth-child(3n) {
    grid-column: 1 / span 2;
  }
}

@media screen and (min-width: 750px) {
  /* Left */

  .collage {
    grid-template-columns: repeat(3, 1fr);
    grid-auto-flow: column;
  }

  .collage__item--left:nth-child(3n - 2) {
    grid-column: 1 / span 2;
    grid-row: span 2;
  }
  
  .collage__item--left:nth-child(3n - 2):last-child {
    grid-column: 1 / span 3;
  }

  .collage__item--left:nth-child(3n),
  .collage__item--left:nth-child(3n - 1) {
    --ratio-percent: 100%;
    grid-column-start: 3;
  }

  .collage__item--left:nth-child(3n - 1):last-child {
    grid-row: span 2;
  }

  /* Right */

  .collage__item--right:nth-child(3n - 2) {
    --ratio-percent: 100%;
    grid-column: 1 / span 1;
    grid-row: span 1;
  }
  
  .collage__item--right:nth-child(3n - 2):last-child {
    --ratio-percent: 0;
    grid-column: 1 / span 3;
  }

  .collage__item--right:nth-child(3n - 1) {
    --ratio-percent: 100%;
    grid-column-start: 1;
    grid-row: auto;
  }

  .collage__item--right:nth-child(3n-1):last-child {
    --ratio-percent: 0;
    grid-column: span 2;
  }

  .collage__item--right:nth-child(3n) {
    grid-column: 2 / span 2;
    grid-row: span 2;
  }
}

.collage-card,
.collage-card .media,
.collage-card .deferred-media {
  height: 100%;
}

.collage-card--spacing {
  padding: 2rem;
}

@media screen and (min-width: 750px) {
  .collage-card--spacing {
    padding: 3rem;
  }
}

/* Video */

.collage-card iframe {
  width: 100%;
  height: 100%;
  position: absolute;
  background-color: rgba(var(--color-foreground), 0.03);
  border: 0;
}

/* global settings */

.collage-card:not(.collage-product, .collage-collection) {
  border: var(--media-border-width) solid rgba(var(--color-foreground), var(--media-border-opacity));
  border-radius: var(--media-radius);
  box-shadow: var(--media-shadow-horizontal-offset)
    var(--media-shadow-vertical-offset)
    var(--media-shadow-blur-radius)
    rgba(var(--color-foreground), var(--media-shadow-opacity));
}