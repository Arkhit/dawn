{{ 'page-hero.css' | asset_url | stylesheet_tag }}

{%- if section.settings.adapt_height_first_image and section.settings.image != blank -%}
  {%- style -%}
    #Banner-{{ section.id }}::before, #Banner-{{ section.id }} .banner__media::before {
      padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
      content: '';
      display: block;
    }
  {%- endstyle -%}
{%- endif -%}

{% liquid 
  case section.settings.color_scheme
    when 'background-1'
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_1
    when 'background-2'
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_2
    when 'inverse'
      assign tagBackground = settings.colors_background_1
      assign tagForeground = settings.colors_text
    when 'accent-1'
      assign tagBackground = settings.colors_solid_button_labels
      assign tagForeground = settings.colors_accent_1
    when 'accent-2'
      assign tagBackground = settings.colors_solid_button_labels
      assign tagForeground = settings.colors_accent_2
    else
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_1
  endcase
%}

<div class="ph-SectionGrid color-{{ section.settings.color_scheme }}">
  <div class="ph-SectionGrid-Full">
    <div class="ph-ndesktopgrid ph-w-100p ph-1col ph-6row">
      <img src="{{ section.settings.imageMobile | img_url: '1200x' }}" alt="{{ section.settings.image.alt | escape }}" class="ph-col-1 ph-row-1-5 ph-w-100p ph-cover" width="1000" height="700" loading="lazy">
      <div class="ph-w-100p ph-z-5 ph-col-1 ph-row-5-6 ph-flex ph-column ph-jc-fe">
        <h1 class="ph-z-5 ph-ta-c {% if section.settings.uppercaseTitle %}ph-uppercase {% endif %}ph-my-0 ph-py-0 ph-lh-117">
          {{ section.settings.title | escape }}
        </h1>
        <p class="ph-ff-body ph-fs-3 ph-lh-133 ph-z-5 ph-mt-3 ph-mb-5 ph-ta-c">
          {{ section.settings.text | escape }}
        </p>
        <div class="ph-ta-c ph-w-100p ph-mt-4 ph-mb-8 ph-z-5">
          <a href="{{ section.settings.url }}" class="ph-py-3 ph-px-8 ph-mxh-60px ph-inlblock ph-ta-c ph-ff-heading ph-uppercase ph-z-1000 ph-nodec ph-button" style="background-color: {{ tagBackground }}; color: {{ tagForeground }};">
            {{ section.settings.buttonText | escape }}
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Pageheader",
  "tag": "section",
  "class": "spaced-section--full-width",
  "settings": [
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "t:sections.image-banner.settings.color_scheme.options__1.label"
        },
        {
          "value": "accent-2",
          "label": "t:sections.image-banner.settings.color_scheme.options__2.label"
        },
        {
          "value": "background-1",
          "label": "t:sections.image-banner.settings.color_scheme.options__3.label"
        },
        {
          "value": "background-2",
          "label": "t:sections.image-banner.settings.color_scheme.options__4.label"
        },
        {
          "value": "inverse",
          "label": "t:sections.image-banner.settings.color_scheme.options__5.label"
        }
      ],
      "default": "background-1",
      "label": "t:sections.image-banner.settings.color_scheme.label"
    },
    {
      "type": "image_picker",
      "id": "imageMobile",
      "label": "t:sections.image-banner.settings.image.label"
    },
    {
      "type": "text",
      "id": "title",
      "default": "All you need is sleep.",
      "label": "Überschrift"
    },
    {
      "type": "checkbox",
      "id": "uppercaseTitle",
      "default": true,
      "label": "Überschrift in Großbuchstaben?"
    },
    {
      "type": "textarea",
      "id": "text",
      "default": "Ihre Experten für Premium-Schlafprodukte",
      "label": "Subline"
    },
    {
      "type": "url",
      "id": "url",
      "default": "/collections/all",
      "label": "URL hinter dem Button"
    },
    {
      "type": "text",
      "id": "buttonText",
      "default": "Mehr erfahren",
      "label": "Aufschrift des Buttons"
    }
  ],
  "presets": [
    {
      "name": "t:sections.image-banner.presets.name"
    }
  ]
}
{% endschema %}
