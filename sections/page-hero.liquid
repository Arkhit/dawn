{%- if section.settings.adapt_height_first_image and section.settings.image != blank -%}
  {%- style -%}
    #Banner-{{ section.id }}::before, #Banner-{{ section.id }} .banner__media::before {
      padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
      content: '';
      display: block;
    }
  {%- endstyle -%}
{%- endif -%}

{% liquid 
  case section.settings.color_scheme
    when 'background-1'
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_1
    when 'background-2'
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_2
    when 'inverse'
      assign tagBackground = settings.colors_background_1
      assign tagForeground = settings.colors_text
    when 'accent-1'
      assign tagBackground = settings.colors_solid_button_labels
      assign tagForeground = settings.colors_accent_1
    when 'accent-2'
      assign tagBackground = settings.colors_solid_button_labels
      assign tagForeground = settings.colors_accent_2
    else
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_1
  endcase
%}

<div class="SectionGrid color-{{ section.settings.color_scheme }}">
  <div class="SectionGrid-Full">
    <div class="ndesktop w-100p">
      {% if section.settings.video %}
        <video
          muted
          autoplay
          loop
          src="{{ section.settings.video | escape }}"
          poster="{{ section.settings.posterImage | img_url: '2000x' }}"
          class="w-100p cover lazy"
          height="700"
        >
          Sorry, your browser doesn't support embedded videos!
        </video>
      {% else %}
        <img src="{{ section.settings.imageMobile | img_url: '1200x' }}" alt="{{ section.settings.image.alt | escape }}" class="w-100p cover" width="1000" height="700" loading="lazy">
      {% endif %}
      <div class="w-100p flex column jc-fe">
        <h1 class="ta-c {% if section.settings.uppercaseTitle %}uppercase {% endif %}my-0 py-0 lh-117 ls-m220">
          {{ section.settings.title | escape }}
        </h1>
        <p class="ff-body fs-3 lh-133 mt-3 mb-5 ta-c">
          {{ section.settings.text | escape }}
        </p>
        <div class="ta-c w-100p mt-4 mb-8">
          {% if section.settings.buttonDesign == "filled" %}
            <a href="{{ section.settings.url }}" class="py-3 px-8 mxh-60px inlblock ta-c ff-heading uppercase z-1000 nodec button" style="background-color: {{ tagBackground }}; color: {{ tagForeground }};">
              {{ section.settings.buttonText | escape }}
            </a>
          {% else %}
            <a href="{{ section.settings.url }}" class="py-3 px-8 mxh-60px inlblock ta-c ff-heading uppercase z-1000 nodec button" style="background-color: transparent; border-color: {{ tagBackground }}; border-width: 2px; border-style: solid; color: {{ tagBackground }};">
              {{ section.settings.buttonText | escape }}
            </a>
          {% endif %}
        </div>
      </div>
    </div>
    <div class="w-100p SectionGrid desktopgrid onerow">
      {% if section.settings.video %}
        <video
          muted
          autoplay
          loop
          src="{{ section.settings.video | escape }}"
          poster="{{ section.settings.posterImage | img_url: '2000x' }}"
          class="w-100p col-1-5 row-1 mxh-700px cover lazy"
          height="700"
        >
          Sorry, your browser doesn't support embedded videos!
        </video>
      {% else %}
        <img src="{{ section.settings.imageDesktop | img_url: '2000x' }}" alt="{{ section.settings.image.alt | escape }}" class="col-1-5 row-1 w-100p cover" width="1500" height="700" loading="lazy">
      {% endif %}
      <div class="col-2-4 row-1 grid twocol z-5">
        <div class="col-1 flex column jc-c ai-fs mxh-700px ml-5">
          <h1 class="mb-8 mt-0 z-5 ff-heading fs-62px fw-500 lh-60px ta-l{% if section.settings.uppercaseTitle %} uppercase{% endif %}" style="max-width: 450px;">
            {% liquid 
              assign titleSections = section.settings.title | split: ' '
              assign titlePartA = titleSections[0] | append: ' ' | append: titleSections[1]
              assign titlePartB = titleSections[2] | append: ' ' | append: titleSections[3] | append: ' ' | append: titleSections[4]
            %}
            {{ titlePartA | escape }}<br>
            {{ titlePartB | escape }}
          </h1>
          <p class="ff-body fs-4 lh-32px ls-p024 fw-300 z-5 mt-0 mb-8 ta-l">
            {{ section.settings.text | escape }}
          </p>
          <div class="ta-l w-100p mt-4 mb-5">
            {% if section.settings.buttonDesign == "filled" %}
              <a href="{{ section.settings.url }}" class="py-5 px-7 ta-c ff-heading uppercase fs-1 lh-100 fw-300 nodec button" style="background-color: {{ tagBackground }}; color: {{ tagForeground }};">
                {{ section.settings.buttonText | escape }}
              </a>
            {% else %}
              <a href="{{ section.settings.url }}" class="py-5 px-7 ta-c ff-heading uppercase fs-1 lh-100 fw-300 nodec button" style="background-color: transparent; border-color: {{ tagBackground }}; border-width: 2px; border-style: solid; color: {{ tagBackground }};">
                {{ section.settings.buttonText | escape }}
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Pageheader",
  "tag": "section",
  "class": "spaced-section--full-width",
  "settings": [
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "t:sections.image-banner.settings.color_scheme.options__1.label"
        },
        {
          "value": "accent-2",
          "label": "t:sections.image-banner.settings.color_scheme.options__2.label"
        },
        {
          "value": "background-1",
          "label": "t:sections.image-banner.settings.color_scheme.options__3.label"
        },
        {
          "value": "background-2",
          "label": "t:sections.image-banner.settings.color_scheme.options__4.label"
        },
        {
          "value": "inverse",
          "label": "t:sections.image-banner.settings.color_scheme.options__5.label"
        }
      ],
      "default": "background-1",
      "label": "Farbschema"
    },
    {
      "type": "image_picker",
      "id": "imageDesktop",
      "label": "Hintergrundbild für Desktop"
    },
    {
      "type": "image_picker",
      "id": "imageMobile",
      "label": "Hintergrundbild für Mobil/Tablet"
    },
    {
      "type": "text",
      "id": "video",
      "label": "URL des Hintergrundvideos"
    },
    {
      "type": "image_picker",
      "id": "posterImage",
      "label": "Platzhalterbild während des Ladens des Videos"
    },
    {
      "type": "text",
      "id": "title",
      "default": "All you need is sleep.",
      "label": "Überschrift"
    },
    {
      "type": "checkbox",
      "id": "uppercaseTitle",
      "default": true,
      "label": "Überschrift in Großbuchstaben?"
    },
    {
      "type": "textarea",
      "id": "text",
      "default": "Mehr als 75.000 zufriedene Kunden.",
      "label": "Subline"
    },
    {
      "type": "url",
      "id": "url",
      "default": "/collections/all",
      "label": "URL hinter dem Button"
    },
    {
      "type": "select",
      "id": "buttonDesign",
      "default": "outlined",
      "label": "Layout des Buttons",
      "options": [
        {
          "value": "outlined",
          "label": "nur Kontur"
        },
        {
          "value": "filled",
          "label": "ausgefüllt"
        }
      ]
    },
    {
      "type": "text",
      "id": "buttonText",
      "default": "Jetzt einkaufen",
      "label": "Aufschrift des Buttons"
    }
  ],
  "presets": [
    {
      "name": "Page Hero",
      "settings": {
        "color_scheme": "background-1",
        "title": "All you need is sleep.",
        "uppercaseTitle": true,
        "text": "Ihre Experten für Premium-Schlafprodukte",
        "url": "/collections/all",
        "buttonDesign": "outlined",
        "buttonText": "Mehr erfahren"
      }
    }
  ]
}
{% endschema %}
