{%- for block in section.blocks -%}
  {%- case block.type -%}
    {%- when 'alert' -%}
      <div {{ block.shopify_attributes }}>
        {% render 'alert-box',
          type: block.settings.alert_type,
          title: block.settings.alert_title,
          message: block.settings.alert_message
        %}
      </div>
  {%- endcase -%}
{%- endfor -%}

{% schema %}
{
  "name": "Custom Alert",
  "tag": "section",
  "class": "custom-alert-section",
  "settings": [],
  "blocks": [
    {
      "type": "alert",
      "name": "Alert Box",
      "settings": [
        {
          "type": "select",
          "id": "alert_type",
          "label": "Alert Type",
          "options": [
            { "value": "default", "label": "Information" },
            { "value": "success", "label": "Success" },
            { "value": "warning", "label": "Warning" },
            { "value": "error", "label": "Error" }
          ],
          "default": "default"
        },
        {
          "type": "text",
          "id": "alert_title",
          "label": "Alert Title",
          "default": "Alert Title"
        },
        {
          "type": "textarea",
          "id": "alert_message",
          "label": "Alert Message",
          "default": "This is an alert message."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Alert",
      "blocks": [
        {
          "type": "alert"
        }
      ]
    }
  ]
}
{% endschema %}
