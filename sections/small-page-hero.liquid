{{ 'small-page-hero.css' | asset_url | stylesheet_tag }}

{%- if section.settings.adapt_height_first_image and section.settings.image != blank -%}
  {%- style -%}
    #Banner-{{ section.id }}::before, #Banner-{{ section.id }} .banner__media::before {
      padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
      content: '';
      display: block;
    }
  {%- endstyle -%}
{%- endif -%}

{% liquid 
  comment
  case section.settings.color_scheme
    when 'background-1'
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_1
    when 'background-2'
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_2
    when 'inverse'
      assign tagBackground = settings.colors_background_1
      assign tagForeground = settings.colors_text
    when 'accent-1'
      assign tagBackground = settings.colors_solid_button_labels
      assign tagForeground = settings.colors_accent_1
    when 'accent-2'
      assign tagBackground = settings.colors_solid_button_labels
      assign tagForeground = settings.colors_accent_2
    else
      assign tagBackground = settings.colors_text 
      assign tagForeground = settings.colors_background_1
  endcase
  endcomment

  case section.settings.heroWidth
    when 'full'
      assign heroWidth = "sph-SectionGrid-Full"
    when 'wide'
      assign heroWidth = "sph-SectionGrid-Wide"
    when 'narrow'
      assign heroWidth = "sph-SectionGrid-Narrow"
    else
      assign heroWidth = "sph-SectionGrid-Full"
  endcase

  case section.settings.alignment
    when 'left'
      assign justify = "sph-ta-l"
      assign align = "sph-ai-fs"
      assign column = "sph-col-2-4"
      assign pl = "sph-pl-0"
      assign margins = "sph-ml-5"
    when 'center'
      assign justify = "sph-ta-c"
      assign align = "sph-ai-c"
      assign column = "sph-col-3"
      assign pl = "sph-pl-8"
      assign margins = "sph-mx-auto"
    else
      assign justify = "sph-ta-c"
      assign align = "sph-ai-c"
      assign column = "sph-col-3"
      assign pl = "sph-pl-8"
      assign margins = "sph-mx-auto"
  endcase

  case section.settings.fontColor
    when 'dark'
      assign color = settings.colors_text
    when 'bright'
      assign color = settings.colors_background_1
    else
      assign color = settings.colors_background_1
  endcase
%}

<div class="sph-SectionGrid color-{{ section.settings.color_scheme }}">
  <div class="{{ heroWidth | escape }}">
    <div class="sph-desktopgrid {% if section.settings.height == 'high' %}sph-h-600px{% else %}sph-h-350px{% endif %} sph-5col" style="background-color: {{ section.settings.backgroundColor }};">
      {% if section.settings.imageDesktop %}
        <img src="{{ section.settings.imageDesktop | img_url: '4000x' }}" alt="{{ section.settings.imageDesktop.alt }}" class="sph-col-1-5 sph-row-1 sph-w-100p {% if section.settings.height == 'high' %}sph-h-600px{% else %}sph-h-350px{% endif %}" width="1200" height="600" loading="lazy">
      {% endif %}
      <div class="sph-flex sph-row sph-ai-c {{ justify | escape }} {{ column | escape }} sph-row-1 sph-w-95p sph-my-7 sph-my-md-12 {{ pl | escape }}" style="color: {{ color | escape }}">
        {{ section.settings.text }}
      </div>
    </div>
    <div class="sph-ndesktopgrid {% if section.settings.height == 'high' %}sph-h-470px{% else %}sph-h-145px sph-h-md-230px{% endif %} sph-1col sph-1row" style="background-color: {{ section.settings.backgroundColor }};">
      {% if section.settings.imageMobile %}
        <img src="{{ section.settings.imageMobile | img_url: '2000x' }}" alt="{{ section.settings.imageMobile.alt }}" class="sph-col-1 sph-row-1 sph-w-100p {% if section.settings.height == 'high' %}sph-h-470px{% else %}sph-h-145px sph-h-md-230px{% endif %}" width="375" height="145" loading="lazy">
      {% endif %}
      <div class="sph-flex sph-column sph-jc-c {{ align | escape }} sph-col-1 sph-row-1 sph-w-100p sph-my-7 sph-my-md-12">
        <div class="sph-w-90p {{ margins | escape }} {{ justify | escape }} sph-fs-6 sph-fs-md-42px sph-lh-32px sph-lh-md-46px sph-ls-m100 sph-ls-md-m200 sph-hyphen" lang="de" style="color: {{ color | escape }}">
          {{ section.settings.text }}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "kleiner Header",
  "tag": "section",
  "class": "spaced-section--full-width",
  "settings": [
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "t:sections.image-banner.settings.color_scheme.options__1.label"
        },
        {
          "value": "accent-2",
          "label": "t:sections.image-banner.settings.color_scheme.options__2.label"
        },
        {
          "value": "background-1",
          "label": "t:sections.image-banner.settings.color_scheme.options__3.label"
        },
        {
          "value": "background-2",
          "label": "t:sections.image-banner.settings.color_scheme.options__4.label"
        },
        {
          "value": "inverse",
          "label": "t:sections.image-banner.settings.color_scheme.options__5.label"
        }
      ],
      "default": "background-1",
      "label": "Farbschema"
    },
    {
      "type": "select",
      "id": "heroWidth",
      "label": "Breite des Elements",
      "options": [
        {
          "value": "full",
          "label": "volle Bildschirmbreite"
        },
        {
          "value": "wide",
          "label": "breit (max. 1300px)"
        },
        {
          "value": "narrow",
          "label": "schmal (max. 900px)"
        }
      ],
      "default": "full"
    },
    {
      "type": "select",
      "id": "height",
      "label": "Höhe des Elements",
      "options": [
        {
          "value": "high",
          "label": "hoch (ca. 600px)"
        },
        {
          "value": "flat",
          "label": "flach (ca. 350px)"
        }
      ],
      "default": "flat"
    },
    {
      "type": "select",
      "id": "alignment",
      "label": "Ausrichtung des Textes",
      "options": [
        {
          "value": "left",
          "label": "linksbündig"
        },
        {
          "value": "center",
          "label": "zentriert"
        }
      ],
      "default": "center"
    },
    {
      "type": "color",
      "id": "backgroundColor",
      "label": "Hintergrundfarbe des Elements"
    },
    {
      "type": "select",
      "id": "fontColor",
      "label": "Schriftfarbe",
      "options": [
        {
          "value": "dark",
          "label": "dunkel"
        },
        {
          "value": "bright",
          "label": "hell"
        }
      ],
      "default": "bright"
    },
    {
      "type": "image_picker",
      "id": "imageDesktop",
      "label": "Hintergrundbild für Desktop"
    },
    {
      "type": "image_picker",
      "id": "imageMobile",
      "label": "Hintergrundbild für Mobil/Tablet"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text"
    }
  ],
  "presets": [
    {
      "name": "kleiner Header",
      "settings": {
        "color_scheme": "background-1",
        "heroWidth": "full",
        "height": "flat",
        "alignment": "center"
      }
    }
  ]
}
{% endschema %}
